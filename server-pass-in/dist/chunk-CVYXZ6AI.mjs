import{a}from"./chunk-WDSV34T6.mjs";import{a as r}from"./chunk-SAYYBWUX.mjs";import{z as e}from"zod";async function p(o){o.withTypeProvider().get("/attendees/:attendeeId/badge",{schema:{summary:"Get an attendee's badge",tags:["attendees"],params:e.object({attendeeId:e.coerce.number().int()}),response:{200:e.object({badge:e.object({name:e.string(),email:e.string(),event:e.string(),checkInUrl:e.string()})}),404:e.object({message:e.string()})}}},async(s,i)=>{let{attendeeId:n}=s.params,t=await r.attendee.findUnique({select:{name:!0,email:!0,event:{select:{title:!0}}},where:{id:n}});if(t===null)throw new a("Attendee not found");let d="{request.protocol}://{request.hostname}",m=new URL(`/attendees/${n}/check-in`,d);return i.send({badge:{name:t.name,email:t.email,event:t.event.title,checkInUrl:m.toString()}})})}export{p as a};
