import{a as r}from"./chunk-WDSV34T6.mjs";import{a as n}from"./chunk-SAYYBWUX.mjs";import{z as e}from"zod";async function c(s){s.withTypeProvider().get("/events/:eventId",{schema:{summary:"Get an event",tags:["events"],params:e.object({eventId:e.string().uuid()}),response:{201:e.object({event:e.object({id:e.string().uuid(),title:e.string(),details:e.string().nullable(),slug:e.string(),maximumAttendees:e.number().int().positive().nullable(),attendeesAmount:e.number().int()})}),409:e.object({message:e.string()})}}},async(i,o)=>{let{eventId:a}=i.params,t=await n.event.findUnique({select:{id:!0,title:!0,details:!0,slug:!0,maximumAttendees:!0,_count:{select:{attendees:!0}}},where:{id:a}});if(t===null)throw new r("Event not found");return o.status(201).send({event:{...t,attendeesAmount:t._count.attendees}})})}export{c as a};
